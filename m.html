<!DOCTYPE html> 
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable = no">
		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black" />
		<link rel="apple-touch-icon" href="images/iphone-iconS.png" />
		<link rel="apple-touch-icon" sizes="72x72" href="images/iphone-iconM.png" />
		<link rel="apple-touch-icon" sizes="114x114" href="images/iphone-iconL.png" />
		<link rel="apple-touch-startup-image" href="images/startup.png">
		<!--http://stackoverflow.com/questions/5767565/jquery-mobile-viewport-hide-safari-header-and-footer
		http://developer.apple.com/library/safari/#documentation/appleapplications/reference/safariwebcontent/configuringwebapplications/configuringwebapplications.html-->

		<title>Higher-Lower</title>
		<link rel="stylesheet" href="http://code.jquery.com/mobile/1.0b2/jquery.mobile-1.0b2.min.css" />
		<link rel="stylesheet" type="text/css" href="css/m.css" />
		
		<script src="http://code.jquery.com/jquery-1.6.2.min.js"></script>
		<script src="http://code.jquery.com/mobile/1.0b2/jquery.mobile-1.0b2.min.js"></script>
		<script type="text/javascript" src="../jquery/jquery.flip.min.js"></script>

		<script type="text/javascript" src="m.js"></script>   
		<script type="text/javascript" src="m_trans.js"></script>
		
		<link rel="icon" href="favicon.ico" type="image/x-icon" /> 		
		
		<script type="text/javascript">                                         		
			$(document).ready(function() {
				$.prepareGame();	
			});                
		</script>
	</head>
	<body>
		
		<!-- Dialogue Form -->
		<div data-role="page" id="form">
			<div data-role="header" data-theme="b" class="header">
				<h1>New Game</h1>
			</div>
			<div id="newGameForm" data-role="content" class="tab-content">
				<div class="gameForm">
					<div data-role="collapsible-set" class="formPanel">
						<div data-role="collapsible" data-collapsed="false">
							<h3>Players</h3>
							<a id="addPlayer" href="javascript:$.addPlayerRow()" data-role="button" data-icon="plus" data-inline="true" data-theme="a">Add (+1)</a>
							<a id="delPlayer" href="javascript:$.delPlayerRow()" data-role="button" data-icon="minus" data-inline="true" data-theme="c">Remove (-1)</a>
							<br/>
							<span>Create a new player or choose existing:</span>
							<table id="playerRows">
								<tr id="player_1">
									<td>
										<input type="text" value="Player 1" MAXLENGTH=8"/>
									</td>
									<td class="icon">
										<a id="add_1" href="javascript:$.createNewPlayer(true,1)" data-role="button" data-icon="plus" data-iconpos="notext">Create</a>
									</td>
									<td class="icon">
										<a id="search_1" href="javascript:$.showPlayerList(true, 1)" data-role="button" data-icon="search" data-iconpos="notext">Choose</a>
									</td>
									<td class="icon">
										<a id="del_1" href="javascript:$.delPlayerRow(1)" data-role="button" data-icon="delete" data-iconpos="notext" style="display:none;">Delete</a>
									</td>
								</tr>
							</table>
						</div>
						<div data-role="collapsible" data-collapsed="true" class="drinkOption">
							<h3>Drinks</h3>
							<span>What are you drinking?</span>
							<fieldset data-role="controlgroup">
								<input type="radio" name="drink_choice" id="drink_beer_bottle" value="swig" class="drinkOption" checked="checked" />
								<label for="drink_beer_bottle">Bottled Beer</label>

								<input type="radio" name="drink_choice" id="drink_beer_draught" value="finger"  class="drinkOption"/>
								<label for="drink_beer_draught">Draft Beer</label>

								<input type="radio" name="drink_choice" id="drink_spirit_mixed" value="finger"  class="drinkOption"/>
								<label for="drink_spirit_mixed">Mixed Spirit</label>

								<input type="radio" name="drink_choice" id="drink_spirit_pure" value="shot"  class="drinkOption"/>
								<label for="drink_spirit_pure">Pure Spirit</label>
								
								<input type="radio" name="drink_choice" id="drink_wine" value="sip"  class="drinkOption"/>
								<label for="drink_wine">Wine</label>
							</fieldset>
						</div>
							
						<div data-role="collapsible" data-collapsed="true">
							<h3>Game Options</h3>
							<fieldset id="gameOptions" data-role="controlgroup" data-role="fieldcontain">
								<input type="checkbox" name="fullBetting" id="fullBetting" class="gameFlag"/>
								<label for="fullBetting">Bet on any card</label>
								<input type="checkbox" name="removeCards" id="removeCards" class="gameFlag" />
								<label for="removeCards">Remove played cards</label>
								<input type="checkbox" name="wholePack" id="wholePack" class="gameFlag" />
								<label for="wholePack">Use the whole pack</label>
							</fieldset>
						</div>
					</div>	
					<a href="javascript:$.startGame()" id="start" data-role="button" data-theme="b" data-inline="true" data-icon="check">Play!</a>
					<a href="javascript:$.closeForm()" id="cancel" data-role="button" data-theme="c" data-inline="true" data-icon="back">Cancel</a>
				</div>
				<!--Hidden player list -->
				<div id="playerList" style="display:none;">
					<ul data-role="listview" data-filter="true" data-inset="true"></ul>
				</div>
				<!-- New player form -->
				<div id="playerForm" style="display:none;">
					<span>Create a new player</span><br/><br/>
					<b>User Name*</b><br/>
					<input type="text" class="playerFormField" name="pname" id="pname" MAXLENGTH=8"/><br/>
					First Name<br/>
					<input type="text" class="playerFormField" name="fname" id="fname"/><br/>
					Surname<br/>
					<input type="text"  class="playerFormField" name="surname" id="surname"/><br/>
					<a href="javascript:$.createNewPlayer(false,true)" id="createPlayer" data-role="button" data-theme="b" data-inline="true" data-icon="check">Create</a>
					<a href="javascript:$.createNewPlayer(false,false)" id="cancelPlayer" data-role="button" data-theme="c" data-inline="true" data-icon="back">Cancel</a>
					<p style="display:none;">User name already in use or invalid!</p>
				</div>
				<!-- Download required icons -->
				<img src="http://code.jquery.com/mobile/1.0b2/images/icon-search-black.png" style="display:none;"><img>
				<img src="http://code.jquery.com/mobile/1.0b2/images/icons-18-white.png" style="display:none;"><img>
				<img src="http://code.jquery.com/mobile/1.0b2/images/icons-36-white.png" style="display:none;"><img>
			</div>
		</div>
		
	
		<div data-role="page" id="game" data-theme="b" data-title="Higher-Lower">
			<div data-role="header" data-theme="a">
					<div id="game_navbar" data-role="navbar">
						<ul>
							<li><a href="#game" class="ui-btn-active" data-icon="home">Game</a></li>
							<li><a href="javascript:$.slideTab(false,'scores')" data-icon="grid">Scores</a></li>
							<li><a href="javascript:$.slideTab(false,'drinkers')" data-icon="star">Top Drinkers</a></li>
						</ul>
					</div>
			</div>
			<div class="main" class="tab-content" data-role="content">	
					<p><span id="playerName">&nbsp;</span></p>
					<div id="sliderPanel">
						<div id="sliderBar" style="display:none;">
							Bet: <input type="range" name="slider" id="currentNumFingers" value="0" min="0" max="4" data-theme="c" readonly/>
						</div>
					</div>			
					<div id="cardDisplay">
										<img id="h2" src="images/lightcards/h2.gif" title="Two" style="display:none;"/>									
										<img id="h3" src="images/lightcards/h3.gif" title="Three" style="display:none;"/>									
										<img id="h4" src="images/lightcards/h4.gif" title="Four" style="display:none;"/>									
										<img id="h5" src="images/lightcards/h5.gif" title="Five" style="display:none;"/>									
										<img id="h6" src="images/lightcards/h6.gif" title="Six" style="display:none;"/>									
										<img id="h7" src="images/lightcards/h7.gif" title="Seven" style="display:none;"/>									
										<img id="h8" src="images/lightcards/h8.gif" title="Eight" style="display:none;"/>									
										<img id="h9" src="images/lightcards/h9.gif" title="Nine" style="display:none;"/>									
										<img id="h10" src="images/lightcards/h10.gif" title="Ten" style="display:none;"/>									
										<img id="h11" src="images/lightcards/h11.gif" title="Jack" style="display:none;"/>									
										<img id="h12" src="images/lightcards/h12.gif" title="Queen" style="display:none;"/>									
										<img id="h13" src="images/lightcards/h13.gif" title="King" style="display:none;"/>									
										<img id="h14" src="images/lightcards/h14.gif" title="Ace" style="display:none;"/>
										<img id="c2" src="images/lightcards/c2.gif" title="Two" style="display:none;"/>									
										<img id="c3" src="images/lightcards/c3.gif" title="Three" style="display:none;"/>									
										<img id="c4" src="images/lightcards/c4.gif" title="Four" style="display:none;"/>									
										<img id="c5" src="images/lightcards/c5.gif" title="Five" style="display:none;"/>									
										<img id="c6" src="images/lightcards/c6.gif" title="Six" style="display:none;"/>									
										<img id="c7" src="images/lightcards/c7.gif" title="Seven" style="display:none;"/>									
										<img id="c8" src="images/lightcards/c8.gif" title="Eight" style="display:none;"/>									
										<img id="c9" src="images/lightcards/c9.gif" title="Nine" style="display:none;"/>									
										<img id="c10" src="images/lightcards/c10.gif" title="Ten" style="display:none;"/>									
										<img id="c11" src="images/lightcards/c11.gif" title="Jack" style="display:none;"/>									
										<img id="c12" src="images/lightcards/c12.gif" title="Queen" style="display:none;"/>									
										<img id="c13" src="images/lightcards/c13.gif" title="King" style="display:none;"/>									
										<img id="c14" src="images/lightcards/c14.gif" title="Ace" style="display:none;"/>
										<img id="s2" src="images/lightcards/s2.gif" title="Two" style="display:none;"/>									
										<img id="s3" src="images/lightcards/s3.gif" title="Three" style="display:none;"/>									
										<img id="s4" src="images/lightcards/s4.gif" title="Four" style="display:none;"/>									
										<img id="s5" src="images/lightcards/s5.gif" title="Five" style="display:none;"/>									
										<img id="s6" src="images/lightcards/s6.gif" title="Six" style="display:none;"/>									
										<img id="s7" src="images/lightcards/s7.gif" title="Seven" style="display:none;"/>									
										<img id="s8" src="images/lightcards/s8.gif" title="Eight" style="display:none;"/>									
										<img id="s9" src="images/lightcards/s9.gif" title="Nine" style="display:none;"/>									
										<img id="s10" src="images/lightcards/s10.gif" title="Ten" style="display:none;"/>									
										<img id="s11" src="images/lightcards/s11.gif" title="Jack" style="display:none;"/>									
										<img id="s12" src="images/lightcards/s12.gif" title="Queen" style="display:none;"/>									
										<img id="s13" src="images/lightcards/s13.gif" title="King" style="display:none;"/>									
										<img id="s14" src="images/lightcards/s14.gif" title="Ace" style="display:none;"/>			
										<img id="d2" src="images/lightcards/d2.gif" title="Two" style="display:none;"/>									
										<img id="d3" src="images/lightcards/d3.gif" title="Three" style="display:none;"/>									
										<img id="d4" src="images/lightcards/d4.gif" title="Four" style="display:none;"/>									
										<img id="d5" src="images/lightcards/d5.gif" title="Five" style="display:none;"/>									
										<img id="d6" src="images/lightcards/d6.gif" title="Six" style="display:none;"/>									
										<img id="d7" src="images/lightcards/d7.gif" title="Seven" style="display:none;"/>									
										<img id="d8" src="images/lightcards/d8.gif" title="Eight" style="display:none;"/>									
										<img id="d9" src="images/lightcards/d9.gif" title="Nine" style="display:none;"/>									
										<img id="d10" src="images/lightcards/d10.gif" title="Ten" style="display:none;"/>									
										<img id="d11" src="images/lightcards/d11.gif" title="Jack" style="display:none;"/>									
										<img id="d12" src="images/lightcards/d12.gif" title="Queen" style="display:none;"/>									
										<img id="d13" src="images/lightcards/d13.gif" title="King" style="display:none;"/>									
										<img id="d14" src="images/lightcards/d14.gif" title="Ace" style="display:none;"/>
					</div>
					<div id="gameButtons" data-role="controlgroup" data-type="horizontal">
						<a id="higher" href="javascript:$.nextTurn(true)" data-role="button" data-icon="arrow-u" data-theme="b">Higher</a>
						<a id="lower" href="javascript:$.nextTurn(false)" data-role="button" data-icon="arrow-d" data-theme="c">Lower</a>
					</div>
			</div>

			<div id="footer" data-role="footer" data-theme="b">
				<div data-role="controlgroup" data-type="horizontal">
					<table>
						<tr>
							<th>
								<a href="javascript:$.openForm()" data-role="button" data-transition="fade" data-icon="plus" data-theme="a" id="newGame">New Game</a>
							</th>
							<td class="wider">
								<span>Bet:<span id="totalNumFingers"></span></span>
							</td>
							<td>
								<span id="cardsLeft"></span>
							</td>
						</tr>
					</table>
				</div>
			</div>
		</div>
		
		
		<div data-role="page" id="scores" data-theme="b">
			<div data-role="header" data-theme="a">
					<div id="scores_navbar" data-role="navbar">
						<ul>
							<li><a href="javascript:$.slideTab(true,'game')" data-icon="home">Game</a></li>
							<li><a href="#scores" class="ui-btn-active" data-icon="grid">Scores</a></li>
							<li><a href="javascript:$.slideTab(false,'drinkers')" data-icon="star">Top Drinkers</a></li>
						</ul>
					</div>
			</div>

			<div id="scoreTab" class="tab-content" data-role="content">	
			</div>
		</div>
		
		<div data-role="page" id="drinkers" data-theme="b">
			<div data-role="header" data-theme="a">
					<div id="drinkers_navbar" data-role="navbar">
						<ul>
							<li><a href="javascript:$.slideTab(true,'game')" data-icon="home">Game</a></li>
							<li><a href="javascript:$.slideTab(true,'scores')" data-icon="grid">Scores</a></li>
							<li><a href="#drinkers" class="ui-btn-active" data-icon="star">Top Drinkers</a></li>
						</ul>
					</div>
			</div>

			<div id="drinkersTab" class="tab-content" data-role="content">
				<table>
					<tr>
						<th></th>
						<th><a href="javascript:$.generateDrinkersTab(1,'name','asc')" data-role="button" data-icon="info" data-theme="c" class="drinkers_header">Name</a></th>
						<th><a href="javascript:$.generateDrinkersTab(2,'max_finger','desc')" data-role="button" data-icon="arrow-d" data-theme="b" class="drinkers_header">Fingers Drank</a></th>
						<th><a href="javascript:$.generateDrinkersTab(3,'max_correct','desc')" data-role="button" data-icon="info" data-theme="c" class="drinkers_header">Correct Guesses</a></th>
						<!--<th><a href="javascript:$.generateDrinkersTab(4,'last_played','desc')" data-role="button" data-icon="info" data-theme="c" class="drinkers_header">Last Played</a></th>-->
					</tr>
				</table>
				<div class="spinner">
					<img src="images/loading.gif"/>
				</div>
				<div class="navButtons">
						<a href="javascript:$.navDrinkersTab(-1)" data-role="button" data-icon="arrow-l" data-theme="c" data-inline="true">Prev</a>
						<a href="javascript:$.navDrinkersTab(1)" data-role="button" data-icon="arrow-r" data-theme="a" data-inline="true">Next</a>
				</div>
				<div class="reloadButton" style="display:none;">
						<p>Could not load drinkers, please check your internet connection & try again.</p>
						<a href="javascript:$.navDrinkersTab(0)" data-role="button" data-icon="refresh" data-theme="a">Reload</a>
				</div>
			</div>

		</div>
		
		<!-- Lee You must drink Form -->
		<div data-role="dialog" id="drink">
			<div id="pictureHeader" data-role="header" data-theme="b" class="header">
				<h1>Drink!</h1>
			</div>
			<div id="pictureContainer" data-role="content">	
				<img id="pictureDisplay" src="images/drink.jpg" class="ui-corner-all" title="You must drink!"/>
				<div>
					<span id="drinkMessage"></span>
				</div>
				<a href="javascript:$.closeDialog()" id="return" data-role="button" data-theme="c">Ok</a>
			</div>
		</div>
		
	</body>
</html>